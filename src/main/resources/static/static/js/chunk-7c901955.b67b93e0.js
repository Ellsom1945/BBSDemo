(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c901955"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"3ca2":function(t,e,n){"use strict";n("d8e0")},"498a":function(t,e,n){"use strict";var r=n("23e7"),a=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5b12":function(t,e,n){"use strict";n("eb40")},"5cd3":function(t,e,n){},7156:function(t,e,n){var r=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var o,i;return a&&"function"==typeof(o=e.constructor)&&o!==n&&r(i=o.prototype)&&i!==n.prototype&&a(t,i),t}},"841c":function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),o=n("1d80"),i=n("129f"),s=n("14c3");r("search",(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,this,t);if(r.done)return r.value;var o=a(this),c=String(t),u=o.lastIndex;i(u,0)||(o.lastIndex=0);var m=s(o,c);return i(o.lastIndex,u)||(o.lastIndex=u),null===m?-1:m.index}]}))},8630:function(t,e,n){"use strict";n("5cd3")},a387:function(t,e,n){"use strict";n("d2fe")},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),o=n("94ca"),i=n("6eeb"),s=n("5135"),c=n("c6b6"),u=n("7156"),m=n("c04e"),l=n("d039"),d=n("7c73"),f=n("241c").f,p=n("06cf").f,C=n("9bf2").f,v=n("58a8").trim,h="Number",g=a[h],w=g.prototype,k=c(d(w))==h,I=function(t){var e,n,r,a,o,i,s,c,u=m(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(o=u.slice(2),i=o.length,s=0;s<i;s++)if(c=o.charCodeAt(s),c<48||c>a)return NaN;return parseInt(o,r)}return+u};if(o(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var b,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(k?l((function(){w.valueOf.call(n)})):c(n)!=h)?u(new g(I(e)),n,x):I(e)},D=r?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;D.length>_;_++)s(g,b=D[_])&&!s(x,b)&&C(x,b,p(g,b));x.prototype=w,w.constructor=x,i(a,h,x)}},c8d2:function(t,e,n){var r=n("d039"),a=n("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||o[t]()!=o||a[t].name!==t}))}},d2fe:function(t,e,n){},d8e0:function(t,e,n){},e8ee:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.articleData.articleTitle?r("div",{staticClass:"articleDetailContainer"},[r("div",{staticClass:"articleDetail"},[r("div",{staticClass:"left"},[r("div",{staticClass:"card"},[r("img",{staticClass:"coverImg",attrs:{src:t.articleData.articleImage,alt:""}}),r("div",{staticClass:"leftContent"},[r("div",{staticClass:"title"},[t._v("\n            "+t._s(t.articleData.articleTitle)+"\n          ")]),r("div",{staticClass:"author"},[r("div",{staticClass:"authorAvatar"},[r("img",{staticClass:"avatar",attrs:{src:t.articleData.avatar&&""!=t.articleData.avatar?t.articleData.avatar:n("bdf7"),alt:"",lazy:"",fit:"cover"},on:{click:function(e){return t.gotoPersonal(t.articleData.authorId)}}})]),r("div",{staticClass:"authorName",on:{click:function(e){return t.gotoPersonal(t.articleData.authorId)}}},[t._v("\n              "+t._s(t.articleData.authorNickname)+"\n            ")]),r("div",{staticClass:"publishDate"},[t._v("\n              "+t._s(t.articleData.createTime)+"\n              "),t.articleData.authorId==t.$store.state.userInfo.userId?r("div",{staticClass:"updatearticle"},[r("div",{on:{click:function(e){t.isWriteCardShow=!0}}},[t._v("更新文章")]),r("div",{staticClass:"fenge"},[t._v("|")]),r("div",{on:{click:t.deleteCurrentArticle}},[t._v("删除文章")])]):t._e()])])]),r("div",{staticClass:"content detailtContent",domProps:{innerHTML:t._s(t.handleMarkDown)}}),r("div",{staticClass:"commentControl"},[r("div",{staticClass:"commentControlItem",class:t.isUserLike?"controlItemDone":"",on:{click:function(e){return t.likeCurrentArticle(!t.isUserLike)}}},[r("i",{staticClass:"iconfont icon-dianzan"}),t._v("\n            "+t._s((t.isUserLike?"已点赞":"点赞")+"  "+this.likeCount)+"\n          ")]),r("div",{staticClass:"likeUsersAvatar"},t._l(t.likeUserList,(function(t,e){return r("img",{key:e,attrs:{src:t.avatar&&""!=t.avatar?t.avatar:n("bdf7"),fit:"cover"}})})),0)])]),r("div",{staticClass:"card leftContent commentArea"},[r("comment-area",{attrs:{commentData:t.commentData,floorCommentList:t.floorCommentList,currentPage:t.currentCommentPage},on:{reFreshComment:function(e){var n=e.type,r=e.index;return t.reFreshComment(n,r)},getFloorCommentList:function(e){var n=e.id,r=e.index;return t.getFloorComment(n,r)},changePage:t.changeCommentPage}})],1)]),r("div",{staticClass:"right"},[r("user-info-card",{attrs:{userId:t.articleData.authorId}}),r("positioning-card")],1)]),r("write-card",{attrs:{isCardShow:t.isWriteCardShow,originArticle:t.articleData},on:{closeCard:function(e){t.isWriteCardShow=!1},reFreshArticleList:function(e){return t.getarticleData(t.$route.params.id)}}})],1):t._e()},a=[],o=n("1da1"),i=(n("99af"),n("159b"),n("ac1f"),n("5319"),n("96cf"),n("d4cd")),s=n.n(i),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"commentArea"},[r("div",{staticClass:"commentText"},[t._v("\n    评论区 ("+t._s(t.commentData.total?t.commentData.total:0)+")\n  ")]),r("div",{staticClass:"commentInput"},[r("el-input",{staticClass:"commentTextArea",attrs:{type:"textarea",maxlength:"140","show-word-limit":"",placeholder:"留下你的评论"},on:{input:t.inputComment},model:{value:t.newCommentData.content,callback:function(e){t.$set(t.newCommentData,"content",e)},expression:"newCommentData.content"}}),r("div",{staticClass:"submitCommentButton"},[r("el-button",{staticClass:"submitComment",attrs:{size:"mini",round:"",type:"primary"},on:{click:t.submitComment}},[t._v("评论")])],1)],1),t._l(t.commentData.list,(function(e,a){return r("div",{key:a,staticClass:"commentItem"},[1==e.commentType?r("div",{staticClass:"commentItemContainer"},[r("div",{staticClass:"commentItemArea"},[r("div",{staticClass:"userAvatar"},[r("img",{staticClass:"avatar",attrs:{src:"发表评论的用户的头像"!=e.commentUserAvatar?e.commentUserAvatar:n("bdf7"),alt:""}})]),r("div",{staticClass:"commentInfo"},[r("div",{staticClass:"author userInfo"},[r("div",{staticClass:"authorName userNickName",on:{click:function(n){return t.gotoPersonal(e.commentUserId)}}},[t._v("\n              "+t._s(e.commentUserNickName)+"\n            ")])]),r("div",{staticClass:"commentContent"},[t._v("\n            "+t._s(e.content)+"\n          ")]),r("div",{staticClass:"commentContorl"},[r("div",{staticClass:"publishDate commentDate"},[t._v("\n              "+t._s(e.createTime)+"\n            ")]),r("div",{staticClass:"commentContorlArea"},[0==e.floorCommentList.length&&0!=e.childCommentNum?r("div",{staticClass:"commentContorlItem checkReply",on:{click:function(n){return t.checkReply(e.commentId,a)}}},[t._v("\n                查看回复 "+t._s("("+e.childCommentNum+")")+"\n              ")]):t._e(),t._m(0,!0),r("div",{staticClass:"commentContorlItem",on:{click:function(n){return t.replyCurrentComment(e.commentId,e.commentUserNickName,a)}}},[r("i",{staticClass:"iconfont icon-kuaisuhuifu"})]),e.commentUserId==t.$store.state.userInfo.userId?r("div",{staticClass:"commentContorlItem",on:{click:function(n){return t.deleteCurrentComment(e.commentId,e.commentType)}}},[r("i",{staticClass:"iconfont icon-shanchu1"})]):t._e()])])])]),e.floorCommentList[0]&&e.floorCommentList[0].commentId?r("div",{staticClass:"floorComment"},t._l(e.floorCommentList,(function(n,o){return r("div",{key:o,staticClass:"floorCommentItemContainer"},[r("div",{staticClass:"floorCommentItem"},[r("div",{staticClass:"floorCommentUser",on:{click:function(e){return t.gotoPersonal(n.commentUserId)}}},[t._v("\n              "+t._s(n.commentUserNickName)+": \n            ")]),n.replyId!=e.commentId?r("div",{staticClass:"repliedUser",on:{click:function(n){return t.gotoPersonal(e.toUserId)}}},[t._v("\n              @"+t._s(n.toNickname)+" \n            ")]):t._e(),r("div",{staticClass:"floorCommentContent"},[t._v("\n              "+t._s(n.content)+"\n            ")]),r("div",{staticClass:"replyBtn"},[r("div",{on:{click:function(e){return t.replyCurrentComment(n.commentId,n.commentUserNickName,a)}}},[t._v("\n                回复\n              ")]),n.commentUserId==t.$store.state.userInfo.userId?r("div",{on:{click:function(e){return t.deleteCurrentComment(n.commentId,n.commentType,a)}}},[t._v("\n                删除\n              ")]):t._e()])])])})),0):t._e()]):t._e()])})),t.commentData.total&&0!=t.commentData.total&&t.commentData.pages>1?r("div",{staticClass:"bottom"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.commentData.total,"page-size":t.commentData.pageSize,"current-page":t.currentPage},on:{"current-change":t.changePage}})],1):t._e()],2)},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commentContorlItem"},[n("i",{staticClass:"iconfont icon-dianzan"})])}],m=(n("a9e3"),n("fb6a"),n("498a"),n("841c"),{name:"",props:{commentData:{type:Object,default:function(){return{}}},currentPage:{type:Number,default:function(){return 1}}},data:function(){return{newCommentData:{content:"",replyId:0,articleId:this.$route.params.id},floorCommentOriginData:{length:0,value:"",rootIndex:0}}},methods:{submitComment:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("tokenValue")){e.next=3;break}return t.$message.info("登录后才能评论哦!"),e.abrupt("return");case 3:if(0!=t.newCommentData.replyId&&(t.newCommentData.content=t.newCommentData.content.slice(t.floorCommentOriginData.length)),0!=t.newCommentData.content.trim().length){e.next=7;break}return t.$message.warning("评论内容不能为空哦!"),e.abrupt("return");case 7:return console.log(t.newCommentData),e.next=10,t.$request("/dqcomment/add",t.newCommentData,"post");case 10:if(n=e.sent,200!=n.data.code){e.next=17;break}t.$emit("reFreshComment",{type:0==t.newCommentData.replyId?"1":"2",index:t.floorCommentOriginData.rootIndex}),t.newCommentData={content:"",replyId:0,articleId:t.$route.params.id},t.floorCommentOriginData={length:0,value:""},e.next=25;break;case 17:if("登陆无效"!=n.data.data){e.next=24;break}return window.localStorage.removeItem("tokenValue"),t.$store.commit("updateUserInfo",{}),t.$message.info("登录失效,请重新登录后重试!"),e.abrupt("return");case 24:t.$message.error(n.data.msg);case 25:case"end":return e.stop()}}),e)})))()},inputComment:function(t){0!=this.newCommentData.replyId&&-1==t.slice(0,this.floorCommentOriginData.length).search(this.floorCommentOriginData.value)&&(this.newCommentData.replyId=0)},replyCurrentComment:function(t,e,n){window.localStorage.getItem("tokenValue")?(this.newCommentData.replyId=t,this.newCommentData.content="@".concat(e,": "),this.floorCommentOriginData.length=this.newCommentData.content.length,this.floorCommentOriginData.value=this.newCommentData.content,this.floorCommentOriginData.rootIndex=n,this.scrollToCommentInput()):this.$message.info("登录后才能评论哦!")},scrollToCommentInput:function(){var t=document.querySelector(".commentArea");window.scrollTo({top:t.offsetTop-94,behavior:"smooth"});var e=document.querySelector(".commentTextArea");e.children[0].focus({preventScroll:!0})},deleteCurrentComment:function(t,e,n){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.$request("/dqcomment/remove/".concat(t));case 2:o=a.sent,console.log(o),200==o.data.code&&r.$emit("reFreshComment",{type:e,index:n});case 5:case"end":return a.stop()}}),a)})))()},checkReply:function(t,e){this.$emit("getFloorCommentList",{id:t,index:e})},gotoPersonal:function(t){this.$router.push({name:"personal",params:{id:t},query:{type:"post",page:1}})},changePage:function(t){var e=document.querySelector(".commentItem");window.scrollTo({top:e.offsetTop-94,behavior:"smooth"}),this.$emit("changePage",t)}}}),l=m,d=(n("a387"),n("2877")),f=Object(d["a"])(l,c,u,!1,null,"3c6091b5",null),p=f.exports,C=n("7cff"),v=n("a350"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.userInfo?r("div",{staticClass:"UserInfoCard"},[r("div",{staticClass:"top"},[r("div",{staticClass:"userInfo"},[r("div",{staticClass:"userAvatar",on:{click:function(e){return t.gotoPersonal("post")}}},[r("img",{attrs:{src:t.userInfo.avatar||n("bdf7"),alt:""}})]),r("div",{staticClass:"userInfoRight"},[r("div",{staticClass:"userName"},[t._v(t._s(t.userInfo.nickName))]),r("div",{staticClass:"email"},[t._v(t._s(t.userInfo.email))])])])]),r("div",{staticClass:"bottom"},[r("div",{staticClass:"dataCount"},[r("span",{staticClass:"dataItem",on:{click:function(e){return t.gotoPersonal("post")}}},[t._v("Posts: "+t._s(t.articleNum))]),r("span",{staticClass:"dataItem",on:{click:function(e){return t.gotoPersonal("comment")}}},[t._v("Comments: "+t._s(t.commentNum))])])])]):t._e()},g=[],w={name:"",props:{userId:{type:Number}},data:function(){return{userInfo:{},articleNum:0,commentNum:0}},methods:{getUserInfoById:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/dquser/".concat(t));case 2:r=n.sent,e.userInfo=r.data.data;case 4:case"end":return n.stop()}}),n)})))()},getUserArticleNum:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/number/dqarticlenumbyuserid/".concat(t));case 2:r=n.sent,console.log(r),e.articleNum=r.data.data;case 5:case"end":return n.stop()}}),n)})))()},getUserCommentNum:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/number/dqcommentnumbyuserid/".concat(t));case 2:r=n.sent,console.log(r),e.commentNum=r.data.data;case 5:case"end":return n.stop()}}),n)})))()},gotoPersonal:function(t){this.$router.push({name:"personal",params:{id:this.userId},query:{type:t,page:1}})}},created:function(){this.getUserInfoById(this.userId),this.getUserArticleNum(this.userId),this.getUserCommentNum(this.userId)},watch:{}},k=w,I=(n("5b12"),Object(d["a"])(k,h,g,!1,null,"4853796e",null)),b=I.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"positioningCard"},[n("div",{staticClass:"stepsContainer"},[n("el-steps",{attrs:{active:t.currentProcess,direction:"vertical"}},[n("el-step",{attrs:{title:"Top",icon:"iconfont icon-fanhuidingbu",status:t.currentProcess>=1?"finish":"wait"},on:{click:function(e){return t.scrollToHere("top")}}}),n("el-step",{attrs:{title:"Article",icon:"iconfont icon-pingbiao",status:t.currentProcess>=2?"finish":"wait"}}),n("el-step",{attrs:{title:"Like",icon:"iconfont icon-dianzan",status:t.currentProcess>=3?"finish":"wait"}}),n("el-step",{attrs:{title:"Comment",icon:"iconfont icon-kuaisuhuifu",status:t.currentProcess>=4?"finish":"wait"}}),n("el-step",{attrs:{title:"Bottom",icon:"iconfont icon-fanhuidingbu dibu",status:t.currentProcess>=5?"finish":"wait"}})],1)],1)])},D=[],_={name:"positioningCard",data:function(){return{currentProcess:1}},methods:{scrollToPosition:function(t){if("Top"==t)window.scrollTo({top:0,behavior:"smooth"});else if("Article"==t){var e=document.querySelector(".leftContent");window.scrollTo({top:e.offsetTop-70,behavior:"smooth"})}else if("Like"==t){var n=document.querySelector(".commentControl");window.scrollTo({top:n.offsetTop+94-window.innerHeight,behavior:"smooth"})}else if("Comment"==t){var r=document.querySelector(".commentArea");window.scrollTo({top:r.offsetTop-94,behavior:"smooth"})}else"Bottom"==t&&window.scrollTo({top:999999,behavior:"smooth"})}},mounted:function(){var t=this,e=document.querySelector(".el-steps");e.addEventListener("click",(function(e){-1!=e.target.getAttribute("class").search("el-step__title")&&t.scrollToPosition(e.target.innerText)}));var n=document.querySelector(".leftContent"),r=document.querySelector(".commentControl"),a=document.querySelector(".commentArea");document.addEventListener("scroll",(function(e){var o=window.innerHeight+window.scrollY;o<n.offsetTop?t.currentProcess=1:o<r.offsetTop?t.currentProcess=2:o<a.offsetTop?t.currentProcess=3:(t.currentProcess=4,document.body.offsetHeight>=o-10&&document.body.offsetHeight<=o+10&&(t.currentProcess=5))}))}},y=_,$=(n("8630"),Object(d["a"])(y,x,D,!1,null,"d8cd96d4",null)),N=$.exports,T={name:"articleDetail",components:{CommentArea:p,GoTop:C["a"],WriteCard:v["a"],UserInfoCard:b,PositioningCard:N},data:function(){return{articleData:{},commentData:{},floorCommentList:[],isUserLike:!1,likeCount:0,likeUserList:[],isWriteCardShow:!1,currentCommentPage:1}},methods:{getarticleData:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/dqarticle/superlist?articleId=".concat(t));case 2:r=n.sent,console.log(r),e.articleData=r.data.data.list[0];case 5:case"end":return n.stop()}}),n)})))()},getArticleLike:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/dqlike/getlikes/".concat(t));case 2:r=n.sent,e.likeCount=r.data.data;case 4:case"end":return n.stop()}}),n)})))()},getIsUserLike:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(window.localStorage.getItem("tokenValue")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$request("/dqlike/status/".concat(t));case 4:r=n.sent,e.isUserLike=1==r.data.data;case 6:case"end":return n.stop()}}),n)})))()},getarticleComment:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/dqcomment/superlist?articleId=".concat(t,"&pageSize=20&pageNum=").concat(e.currentCommentPage));case 2:r=n.sent,console.log(r),200==r.data.code?(r.data.data.list.forEach((function(t,e,n){n[e].floorCommentList=[]})),e.commentData=r.data.data):404==r.data.code&&(e.commentData={});case 5:case"end":return n.stop()}}),n)})))()},getFloorComment:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$request("/dqcomment/dqroot/".concat(t));case 2:a=r.sent,200==a.data.code?n.commentData.list[e].floorCommentList=a.data.data.list:(n.commentData.list[e].floorCommentList=[],n.commentData.list[e].floorCommentList.push(1));case 4:case"end":return r.stop()}}),r)})))()},getLikeUsers:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$request("/dqlike/getlikeusers/".concat(t,"?pageSize=3"));case 2:r=n.sent,200==r.data.code?e.likeUserList=r.data.data.list:404==r.data.code&&(e.likeUserList=[]);case 4:case"end":return n.stop()}}),n)})))()},reFreshComment:function(t,e){1==t?this.getarticleComment(this.$route.params.id):2==t&&this.getFloorComment(this.commentData.list[e].commentId,e)},likeCurrentArticle:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=20;break}if(window.localStorage.getItem("tokenValue")){n.next=4;break}return e.$message.info("登录后才能为该文章点赞哦!"),n.abrupt("return");case 4:return n.next=6,e.$request("dqlike/like/".concat(e.$route.params.id));case 6:if(r=n.sent,200!=r.data.code){n.next=13;break}e.isUserLike=t,e.getLikeUsers(e.$route.params.id),e.getArticleLike(e.$route.params.id),n.next=18;break;case 13:if("登陆无效"!=r.data.data){n.next=18;break}return window.localStorage.removeItem("tokenValue"),e.$store.commit("updateUserInfo",{}),e.$message.info("登录失效,请重新登录后重试!"),n.abrupt("return");case 18:n.next=24;break;case 20:return n.next=22,e.$request("dqlike/unlike/".concat(e.$route.params.id));case 22:a=n.sent,200==a.data.code&&(e.isUserLike=t,e.getLikeUsers(e.$route.params.id),e.getArticleLike(e.$route.params.id));case 24:case"end":return n.stop()}}),n)})))()},deleteCurrentArticle:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm("确认要删除此文章吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/dqarticle/delete/".concat(t.$route.params.id));case 2:n=e.sent,200==n.data.code&&t.$router.replace("/community");case 4:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}));case 1:case"end":return e.stop()}}),e)})))()},gotoPersonal:function(t){this.$router.push({name:"personal",params:{id:t},query:{type:"post",page:1}})},changeCommentPage:function(t){this.currentCommentPage=t,this.getarticleComment(this.$route.params.id)}},computed:{handleMarkDown:function(){if(this.articleData.articleContent){var t=new s.a,e=t.render(this.articleData.articleContent);return e}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,t.getarticleData(t.$route.params.id);case 3:return e.next=5,t.getarticleComment(t.$route.params.id);case 5:return e.next=7,t.getArticleLike(t.$route.params.id);case 7:return e.next=9,t.getIsUserLike(t.$route.params.id);case 9:return e.next=11,t.getLikeUsers(t.$route.params.id);case 11:case"end":return e.stop()}}),e)})))()},mounted:function(){}},L=T,P=(n("3ca2"),Object(d["a"])(L,r,a,!1,null,"1468c3ca",null));e["default"]=P.exports},eb40:function(t,e,n){}}]);
//# sourceMappingURL=chunk-7c901955.b67b93e0.js.map