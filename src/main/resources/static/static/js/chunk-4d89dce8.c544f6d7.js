(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d89dce8"],{"0cb2":function(e,t,n){var r=n("7b0b"),a=Math.floor,s="".replace,i=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,c,u,l){var d=n+e.length,p=c.length,f=o;return void 0!==u&&(u=r(u),f=i),s.call(l,f,(function(r,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(d);case"<":i=u[s.slice(1,-1)];break;default:var o=+s;if(0===o)return r;if(o>p){var l=a(o/10);return 0===l?r:l<=p?void 0===c[l-1]?s.charAt(1):c[l-1]+s.charAt(1):r}i=c[o-1]}return void 0===i?"":i}))}},"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,s=n("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})},"4ffd":function(e,t){e.exports="data:image/png;base64,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"},5179:function(e,t,n){"use strict";n("d52a")},5319:function(e,t,n){"use strict";var r=n("d784"),a=n("d039"),s=n("825a"),i=n("50c4"),o=n("a691"),c=n("1d80"),u=n("8aa5"),l=n("0cb2"),d=n("14c3"),p=n("b622"),f=p("replace"),m=Math.max,g=Math.min,v=function(e){return void 0===e?e:String(e)},h=function(){return"$0"==="a".replace(/./,"$0")}(),b=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),C=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,n){var r=b?"$":"$0";return[function(e,n){var r=c(this),a=void 0==e?void 0:e[f];return void 0!==a?a.call(e,r,n):t.call(String(r),e,n)},function(e,a){if("string"===typeof a&&-1===a.indexOf(r)&&-1===a.indexOf("$<")){var c=n(t,this,e,a);if(c.done)return c.value}var p=s(this),f=String(e),h="function"===typeof a;h||(a=String(a));var b=p.global;if(b){var C=p.unicode;p.lastIndex=0}var k=[];while(1){var w=d(p,f);if(null===w)break;if(k.push(w),!b)break;var y=String(w[0]);""===y&&(p.lastIndex=u(f,i(p.lastIndex),C))}for(var I="",x=0,A=0;A<k.length;A++){w=k[A];for(var S=String(w[0]),N=m(g(o(w.index),f.length),0),L=[],H=1;H<w.length;H++)L.push(v(w[H]));var R=w.groups;if(h){var V=[S].concat(L,N,f);void 0!==R&&V.push(R);var W=String(a.apply(void 0,V))}else W=l(S,f,N,L,R,a);N>=x&&(I+=f.slice(x,N)+W,x=N+S.length)}return I+f.slice(x)}]}),!C||!h||b)},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),s="["+a+"]",i=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},6550:function(e,t,n){"use strict";n("d26e")},a687:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navBarContainer"},[r("div",{staticClass:"navBar",style:"background-color:rgba(24, 54, 91,"+e.backgroundAlpha+")"},[r("div",{staticClass:"left"},[e._m(0),r("div",{staticClass:"nav"},[r("div",{staticClass:"navItem",on:{click:function(t){return e.goCurrentPage("/home")}}},[e._v("Home")]),r("div",{staticClass:"navItem",on:{click:function(t){return e.goCurrentPage("/community?typeId=0&page=1")}}},[e._v("\n          Community\n        ")])])]),r("div",{staticClass:"right"},[r("search-input"),r("div",{staticClass:"fenge"}),r("div",{staticClass:"user"},[r("div",{staticClass:"avatar",on:{click:e.gotoPersonal}},[r("el-image",{attrs:{src:e.userInfo.avatar?e.userInfo.avatar:n("bdf7"),fit:"cover"}})],1),r("div",{staticClass:"userName"},[e._v(e._s(e.userInfo.nickName))])])],1)]),e.isAlphaChange?e._e():r("div",{staticClass:"placeHolder"})])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("img",{attrs:{src:n("4ffd"),alt:""}})])}],s=n("1da1"),i=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"searchInput"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputContent,expression:"inputContent"}],staticClass:"searchContentInput",attrs:{type:"text",placeholder:"搜索一下~"},domProps:{value:e.inputContent},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchContent.apply(null,arguments)},input:function(t){t.target.composing||(e.inputContent=t.target.value)}}}),n("div",{staticClass:"searchButton",on:{click:e.searchContent}},[n("i",{staticClass:"iconfont icon-sousuo2"})])])}),o=[],c={name:"searchInput",data:function(){return{inputContent:""}},methods:{searchContent:function(){if(""==this.inputContent&&"/community?typeId=0&page=1"!=this.$route.fullPath)this.$router.push({name:"community",query:{typeId:0,page:1}});else if(""!==this.inputContent){if(this.$route.fullPath=="/community?page=1&articleTitle=".concat(this.inputContent))return;this.$router.push({name:"community",query:{page:1,articleTitle:this.inputContent}})}}}},u=c,l=(n("6550"),n("2877")),d=Object(l["a"])(u,i,o,!1,null,"d5d65946",null),p=d.exports,f={components:{SearchInput:p},name:"navBar",props:{isAlphaChange:{type:Boolean,default:function(){return!1}}},data:function(){return{backgroundAlpha:1,userInfo:{}}},methods:{getUserInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.localStorage.getItem("tokenValue")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$request("/dquser/getnowuser");case 4:if(n=t.sent,200==n.data.code){t.next=10;break}return window.localStorage.removeItem("tokenValue"),e.$store.commit("updateUserInfo",{}),e.$message.info("登录信息失效, 请重新登录!"),t.abrupt("return");case 10:e.userInfo=n.data.data,e.$store.commit("updateUserInfo",e.userInfo);case 12:case"end":return t.stop()}}),t)})))()},goCurrentPage:function(e){this.$route.fullPath!=e&&(this.$router.push(e),window.scrollTo(0,0))},gotoPersonal:function(){window.localStorage.getItem("tokenValue")?this.$route.path!="/personal/".concat(this.userInfo.userId)&&this.$router.push({name:"personal",params:{id:this.userInfo.userId},query:{type:"post",page:1}}):this.$router.push("/login")}},created:function(){this.getUserInfo()},mounted:function(){var e=this;this.pageHeight=document.body.clientHeight,this.backgroundAlpha=this.isAlphaChange?0:1,window.addEventListener("scroll",(function(){e.isAlphaChange&&(e.backgroundAlpha=0,window.scrollY<=document.body.clientHeight?e.backgroundAlpha=window.scrollY/document.body.clientHeight:e.backgroundAlpha<1&&(e.backgroundAlpha=1))}))},watch:{isAlphaChange:function(e){this.backgroundAlpha=e?0:1},"$store.state.reFreshUserInfo":function(e){e&&(this.getUserInfo(),this.$store.commit("updateReFreshUserInfo",!1))}}},m=f,g=(n("bbc0"),Object(l["a"])(m,r,a,!1,null,"49c2ee24",null));t["a"]=g.exports},bbc0:function(e,t,n){"use strict";n("e69c")},bdf7:function(e,t,n){e.exports=n.p+"static/img/defaultAvatar.16a68dc4.jpg"},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),s="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||s[e]()!=s||a[e].name!==e}))}},d26e:function(e,t,n){},d52a:function(e,t,n){},dd7b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("nav-bar",{staticClass:"navbar",class:e.isLoginSuccess?"showNavbar":""}),n("div",{staticClass:"main",class:e.isLoginSuccess?"hideMain":""},[e._m(0),n("div",{staticClass:"mainBox"},[n("div",{staticClass:"leftButton"},[n("div",{staticClass:"buttonItem",class:"second"==e.activeName?"selectButton":"",on:{click:function(t){return e.handleClick("second")}}},[n("i",{staticClass:"iconfont icon-denglu"}),e._v(" Registration\n        ")]),n("div",{staticClass:"buttonItem",class:"first"==e.activeName?"selectButton":"",on:{click:function(t){return e.handleClick("first")}}},[n("i",{staticClass:"iconfont icon-denglu2"}),e._v(" Sign In\n        ")])]),"first"==e.activeName?n("div",{staticClass:"loginInput"},[e._m(1),n("el-form",{ref:"form",attrs:{model:e.login,"label-width":"80px"}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.login.userName,callback:function(t){e.$set(e.login,"userName",t)},expression:"login.userName"}})],1),n("el-form-item",[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.login.passWord,callback:function(t){e.$set(e.login,"passWord",t)},expression:"login.passWord"}})],1),n("div",{staticClass:"resetPassword"},[e._v("* Reset Password")]),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)],1):n("div",{staticClass:"registeredInput"},[e._m(2),n("el-form",{ref:"form",attrs:{model:e.login,"label-width":"80px"}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registered.userName,callback:function(t){e.$set(e.registered,"userName",t)},expression:"registered.userName"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.registered.passWord,callback:function(t){e.$set(e.registered,"passWord",t)},expression:"registered.passWord"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.registered.email,callback:function(t){e.$set(e.registered,"email",t)},expression:"registered.email"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.registered.phoneNumber,callback:function(t){e.$set(e.registered,"phoneNumber",t)},expression:"registered.phoneNumber"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.clickRegistered}},[e._v("注册")])],1)],1)],1)])])],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logoContainer"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:n("4ffd"),alt:""}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tips"},[n("h3",[e._v("登录")]),n("h3",[e._v("你的账户")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tips"},[n("h3",[e._v("注册")]),n("h3",[e._v("填写注册信息")])])}],s=n("1da1"),i=(n("96cf"),n("498a"),n("ac1f"),n("5319"),n("a687")),o={name:"Login",components:{NavBar:i["a"]},data:function(){return{login:{userName:"",passWord:""},registered:{phoneNumber:"",passWord:"",userName:"",email:""},activeName:"first",isLoginSuccess:!1}},methods:{onSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.login.userName.trim()&&e.login.passWord.trim()){t.next=3;break}return e.$message.warning("请输入用户名和密码后再登录哦!"),t.abrupt("return");case 3:return t.next=5,e.$request("/login",e.login,"post");case 5:n=t.sent,console.log(n),200==n.status&&200==n.data.code?(window.localStorage.setItem("tokenValue",n.data.data.tokenValue),window.localStorage.setItem("userName",e.login.userName),e.isLoginSuccess=!0,setTimeout((function(){e.$router.replace("/index")}),500)):200!=n.status||n.data.success||e.$message.warning("登录失败,账号或密码错误!");case 8:case"end":return t.stop()}}),t)})))()},handleClick:function(e){this.activeName=e},clickRegistered:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.registered.userName.trim()&&e.registered.passWord.trim()&&e.registered.phoneNumber.trim()&&e.registered.email.trim()){t.next=3;break}return e.$message.warning("请填写注册信息后再进行注册哦!"),t.abrupt("return");case 3:return t.next=5,e.$request("/register",e.registered,"post");case 5:n=t.sent,console.log(n),200==n.data.code?(e.$message.success("注册成功!"),e.login.userName=e.registered.userName,e.login.passWord="",e.activeName="first",e.registered={phoneNumber:"",passWord:"",userName:"",email:""}):500==n.data.code?e.$message.error(n.data.msg):e.$message.error("注册失败,请稍后重试!");case 8:case"end":return t.stop()}}),t)})))()}}},c=o,u=(n("5179"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,"317daf2c",null);t["default"]=l.exports},e69c:function(e,t,n){}}]);
//# sourceMappingURL=chunk-4d89dce8.c544f6d7.js.map